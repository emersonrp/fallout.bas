10 CLS
20 RANDOM
30 PRINT
40 PRINT "Welcome to ROBCO Industries (TM) Termlink"
50 PRINT
60 PRINT "Password Required"
70 PRINT
80 PRINT "Attempts Remaining: " + CHR$(140) + " " + CHR$(140) + " " + CHR$(140) + " " + CHR$(140)
90 PRINT
900 REM - get the words - TODO need more word sets
910 DATA TAKES,KNOWN,KICKS,STARK,BOOTS,BATON,CLEAR,CRIME,WASTE,CLOSE,SWORD,SLAVE,FARGO,MAYBE,MALES
920 DIM WORDS$(15)
930 FOR I = 1 TO 15
940 READ WORDS$(I)
950 NEXT
960 WORDLENGTH% = len(WORDS$(1))
1000 REM - set up the vars representing the left and right text fields
1010 DATA " ","/","\","!","@","#","$","%","^","&","*","-","=","+",",",".",":",";"
1020 DIM GARBAGECHARS$(18)
1030 FOR I = 1 to 18
1040 READ GARBAGECHARS$(I)
1050 NEXT
1060 FOR I = 1 TO 12*16
1070 GOSUB 40000
1080 LSIDE$ = LSIDE$ + NEWCHAR$
1090 NEXT
1100 FOR I = 1 to 12*16
1110 GOSUB 40000
1120 RSIDE$ = RSIDE$ + NEWCHAR$
1130 NEXT I
1500 REM - sprinkle the words into the text fields
1505 DIM PAPOSITIONS%(15,WORDLENGTH%) ' (number of words, length) TODO put those in vars
1510 DATA 14,50,66,95,108,128,154,174
1520 FOR I = 1 to 8
1530 READ LSIDEPOS%(I)
1540 LSIDEPOS%(I) = LSIDEPOS%(I) + RND(7) - 4
1550 MID$(LSIDE$, LSIDEPOS%(I), LEN(WORDS$(I))) = WORDS$(I)
1555 GOSUB 41000
1560 NEXT
1570 DATA 18,40,66,85,100,138,164
1580 FOR I = 1 to 7
1590 READ RSIDEPOS%(I)
1600 RSIDEPOS%(I) = RSIDEPOS%(I) + RND(7) - 4
1610 MID$(RSIDE$, RSIDEPOS%(I), LEN(WORDS$(I+8))) = WORDS$(I+8)
1615 GOSUB 42000
1620 NEXT
10000 REM - print the text fields at the right place
10010 TOPROW = 7
10020 HEXADDRESS = 48304
10030 FOR I = 0 TO 15
10040 PRINT @ (TOPROW + I, 0), "0x" + HEX$(HEXADDRESS) + " " + MID$(LSIDE$, I*12 + 1, 12) + " 0x" + HEX$(HEXADDRESS + (12*16)) + " " + MID$(RSIDE$, I*12 + 1, 12);
10050 HEXADDRESS = HEXADDRESS + 12
10060 NEXT I
10070 PRINT @ (TOPROW + 15, 40), " > ";
20000 REM - Do the input loop and dispatch appropriately
20010 KEYIN$ = INPUT$(1)
39999 END
40000 REM --- subroutine to pick a more random char from garbagechars
40010 NEWCHAR$ = GARBAGECHARS$(RND(18))
40020 IF NEWCHAR$ = LASTCHAR$ THEN 40010
40030 LASTCHAR$ = NEWCHAR$
40040 RETURN
40999 REM TODO TODO TODO DRY UP THESE NEXT TWO
41000 REM -- subroutine to fill a two-dimensional array with lists of "print @" locations for LSIDE
41010 RAWPOS% = LSIDEPOS%(I)
41020 CURROW% = RAWPOS% \ 12
41030 CURCOL% = RAWPOS% MOD 12
41040 FOR J = 1 to WORDLENGTH%
41050 PAPOSITIONS%(I, J) = (CURROW% * 80) + 7 + CURCOL%
41060 CURCOL% = CURCOL% + 1
41070 IF CURCOL% > 12 THEN CURCOL% = 0: CURROW% = CURROW% + 1
41080 NEXT J
41090 RETURN
42000 REM -- subroutine to fill a two-dimensional array with lists of "print @" locations for RSIDE
42010 RAWPOS% = RSIDEPOS%(I)
42020 CURROW% = RAWPOS% \ 12
42030 CURCOL% = RAWPOS% MOD 12
42040 FOR J = 1 to WORDLENGTH%
42050 PAPOSITIONS%(I+8, J) = (CURROW% * 80) + 27 + CURCOL%
42060 CURCOL% = CURCOL% + 1
42070 IF CURCOL% > 12 THEN CURCOL% = 0: CURROW% = CURROW% + 1
42080 NEXT J
42090 RETURN
